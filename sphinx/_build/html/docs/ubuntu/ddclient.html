

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; Software Install Guides 1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Software Install Guides 1 documentation" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Software Install Guides
          

          
            
            <img src="../../_static/favicon.ico" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul class="simple">
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Software Install Guides</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/docs/ubuntu/ddclient.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p># DDClient</p>
<p>## Software Requirements</p>
<p>Most of what is needed usually comes with Ubuntu, like Perl and CPAN.</p>
<p>But, one program that is needed is <cite>libio-socket-ssl-perl</cite>, specifically to assist with SSL encryptions of the ddclient traffic.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libio-socket-ssl-perl</span>
<span class="pre">`</span></code></p>
<p>## Preface [^Sources]</p>
<p>This guide is a bit more hands on, but is not only a good lesson to get through and learn, but ends up building a nice, very useful and light weight program!</p>
<p>DDClient, specifically, is a Dynamic DNS program. Through its config files, it listens for public IP address changes on the machine its running on - IPv4 specifically - and then relays that information back to your Domain Name Host - [domains.google.com][fc8a4088] for example - so that, if you are self-hosting stuff attached to your url name, and its hosting from an IP address that likes to change - which consumer-based internet access will change that IP address - this handles that issue.</p>
<p>Plus, [domains.google.com][fc8a4088] also has a specific, easier-to-use config setup for DDClient, so it makes your life just that much easier.</p>
<p>## Clone the Github repo</p>
<p>Lets start off by cloning the github repo, so you have the most up-to-date code to build with.</p>
<dl class="docutils">
<dt>!!! note:</dt>
<dd><p class="first">I keep all of my cloned git repos inside of one, singular directory:</p>
<p><cite>~/git</cite></p>
<p>This way, I don&#8217;t have to hunt all over my system for where my repo&#8217;s are and it makes it easier to keep them updated. Then, I symlink the library to wherever either the developer wants/requires it or where is easiest.</p>
<p class="last">The other way of handing this is to clone your PROGRAMS into the /opt directory - so /opt/couchpotato, /opt/NzbDrone, /opt/plexpy and so on. Then clone your working repos for projects into ~/git/[repo]</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/wimpunk/ddclient.git</span> <span class="pre">~/git/ddclient</span>
<span class="pre">`</span></code></p>
<p>Or, like with couchpotato, you are welcome to save the git directory where ever works best for you.</p>
<p>## Copying Files and Creating Directories</p>
<p>Next, its a matter of sticking the ddclient program into the right place, creating its directories, backing up the existing configs and all that jazz.</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">cd</span> <span class="pre">~/git/ddclient/</span>
<span class="pre">sudo</span> <span class="pre">cp</span> <span class="pre">ddclient</span> <span class="pre">/usr/sbin/</span>
<span class="pre">sudo</span> <span class="pre">mkdir</span> <span class="pre">/etc/ddclient/</span>
<span class="pre">sudo</span> <span class="pre">mkdir</span> <span class="pre">/var/cache/ddclient</span>
<span class="pre">`</span></code></p>
<p>So the first <cite>cp</cite> is the actual  program itself, thus why its going inside of <cite>/usr/sbin/</cite>
Then, creating <cite>/etc/ddclient/</cite> because thats where it expects its config file.
Then, <cite>/var/cache/ddclient</cite> in order to save the programs caching files.</p>
<p>## ddclient.conf file</p>
<p>If you already have a <cite>ddclient.conf</cite> file made or copied, as in from [domains.google.com][fc8a4088], since their support files explain exactly how to make a config file just for their service, copy that over to:</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">/etc/ddclient/ddclient.conf</span>
<span class="pre">`</span></code></p>
<p>But, if you don&#8217;t have a starting point yet, if you look in the DDClient repo files, there are several sample files of all creeds and uses. This is a good chance for you to poke around a bit and see what each one is meant for and look through your specific config file, since it will have a billion and one explanations for everything. If, you&#8217;re interested.</p>
<p>Otherwise, most likely the service you have your URL hosted with will have a how-to specific for their service on configuring DDClient.</p>
<p>Then, once you have a good config file you like, save it into a github repo of your own so you have it saved, sourced, and backed up to a cloud server if anything goes awry.</p>
<p>## Autostart</p>
<p>Since we&#8217;re on Ubuntu, copy the <cite>init.d</cite> file over and set it up to _always_ autostart:</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">sudo</span> <span class="pre">cp</span> <span class="pre">sample-etc_rc.d_init.d_ddclient.ubuntu</span> <span class="pre">/etc/init.d/ddclient</span>
<span class="pre">sudo</span> <span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">/etc/init.d/ddclient</span>
<span class="pre">sudo</span> <span class="pre">update-rc.d</span> <span class="pre">ddclient</span> <span class="pre">defaults</span>
<span class="pre">`</span></code></p>
<p>So, we&#8217;re copying a sample file - specifically the init.d_ddclient.ubuntu file. Obviously if you wanted to run DDClient in another fashion - like with the cron file or with the specific wrapper <cite>.sh</cite> script - you could if you were so inclined.</p>
<p>Then, the <cite>chmod +x</cite> makes the file executable by the sytem, and <cite>update-rc.d</cite> adds it to upstart for autostarting.</p>
<p>## Perl/CPAN</p>
<p>Now, DDClient is dependent on some Perl Libraries to help it run. So, the specific Perl Library Management tool we&#8217;ll be using is CPAN.</p>
<p>And, I believe if I am correct, Perl is a tool that comes with Ubuntu Server, along with CPAN. But, if your system isn&#8217;t allowing the  <cite>cpan</cite> command to run, you can do a <cite>apt-cache search cpan</cite> and it&#8217;ll show the various programs that might include it.</p>
<p>If Perl completely isn&#8217;t installed, then</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">perl</span>
<span class="pre">`</span></code></p>
<p>Then, once thats done, you&#8217;ll want to install the library DDClient requires:</p>
<p><code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">sudo</span> <span class="pre">cpan</span> <span class="pre">install</span> <span class="pre">Data::Validate::IP</span>
<span class="pre">`</span></code></p>
<p>Since I don&#8217;t know hardly anything about Perl other than I need it, I simply press enter through the various questions CPAN asks, since it will autofill with the defaults.</p>
<p>## Running DDClient</p>
<p>Once you have all that taken care of, you can run <cite>sudo ddclient</cite> and it&#8217;ll run it once, it&#8217;ll talk to the server you have configured, and respond with output. For me, it usually tells me that my IP address is unchanged, and to run DDClient unneccessarily is considered abusive.</p>
<p>Which is why we use Upstart, systemctl or the wrapper script or cron job!</p>
<p>Now, since we added this to Upstart, type <cite>sudo service ddclient start</cite> and that script will take over the management!</p>
<p>[^Sources]: Liberally copied from [wimpunk/ddclient][170193d3] github how-to</p>
<blockquote>
<div>[170193d3]: <a class="reference external" href="https://github.com/wimpunk/ddclient">https://github.com/wimpunk/ddclient</a> &#8220;wimpunk&#8217;s DDClient Repo&#8221;
[fc8a4088]: domains.google.com &#8220;Google DNS Hosting&#8221;</div></blockquote>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Justin Partain.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>