

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DDClient [DDCLIENT-Source] &mdash; Software Install Guides v1.5</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon1.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Software Install Guides v1.5" href="../../../index.html"/>
        <link rel="up" title="Web Server Stuff" href="index.html"/>
        <link rel="next" title="Using Postfix as Mail Relay [POSTFIX-HowTo]" href="../postfix.html"/>
        <link rel="prev" title="Securing NGINX" href="securing-nginx.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Software Install Guides
          

          
            
            <img src="../../../_static/JPLogo-Header.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Ubuntu Specific</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../webapps/index.html">WebApps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../downloader/index.html">Downloaders</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Web Server Stuff</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nginx-from-ubuntu-ppa.html">NGINX from PPA <code class="docutils literal"><span class="pre">[NGINX-Config]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="nginx-from-source.html">Compiling NGINX From Source <code class="docutils literal"><span class="pre">[NGINX-Copied]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="nginx-basic-auth.html">NGINX Basic Password Auth</a></li>
<li class="toctree-l3"><a class="reference internal" href="securing-nginx.html">Securing NGINX</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">DDClient <code class="docutils literal"><span class="pre">[DDCLIENT-Source]</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#preface">Preface</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../postfix.html">Using Postfix as Mail Relay <code class="docutils literal"><span class="pre">[POSTFIX-HowTo]</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../adding-apt-list.html">Adding an Apt-Get List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mount-drive-ubuntu.html">Mounting Unformatted Drive in Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ubuntu_user.html">User Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#layout">Layout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberry-pi/index.html">Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../macOS/index.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general-debian/index.html">General Debian Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general-bash/index.html">General Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../git/index.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../website-testing/index.html">Website Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extras/index.html">Extras</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Software Install Guides</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Ubuntu Specific</a> &raquo;</li>
      
          <li><a href="index.html">Web Server Stuff</a> &raquo;</li>
      
    <li>DDClient <code class="docutils literal"><span class="pre">[DDCLIENT-Source]</span></code></li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/docs/ubuntu-specific/web-server/ddclient.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ddclient-ddclient-source">
<h1>DDClient <a class="reference internal" href="#ddclient-source" id="id1">[DDCLIENT-Source]</a><a class="headerlink" href="#ddclient-ddclient-source" title="Permalink to this headline">¶</a></h1>
<div class="section" id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h2>
<p>This guide is a bit more hands on, but is not only a good lesson to get through and learn, but ends up building a nice, very useful and light weight program!</p>
<p>DDClient, specifically, is a Dynamic DNS program. Through its config files, it listens for public IP address changes on the machine its running on - IPv4 specifically - and then relays that information back to your Domain Name Host - <a class="reference external" href="domains.google.com">domains.google.com</a> for example - so that, if you are self-hosting stuff attached to your url name, and its hosting from an IP address that likes to change - which consumer-based internet access will change that IP address - this handles that issue.</p>
<p>Plus, <a class="reference external" href="domains.google.com">domains.google.com</a> also has a specific, easier-to-use config setup for DDClient, so it makes your life just that much easier.</p>
<div class="section" id="software-requirements">
<h3>Software Requirements<a class="headerlink" href="#software-requirements" title="Permalink to this headline">¶</a></h3>
<p>Most of what is needed usually comes with Ubuntu, like Perl and CPAN.</p>
<p>But, one program that is needed is <code class="docutils literal"><span class="pre">libio-socket-ssl-perl</span></code>, specifically to assist with SSL encryptions of the ddclient traffic.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt-get install libio-socket-ssl-perl
</pre></div>
</div>
</div>
<div class="section" id="clone-the-github-repo">
<h3>Clone the Github Repo<a class="headerlink" href="#clone-the-github-repo" title="Permalink to this headline">¶</a></h3>
<p>Lets start off by cloning the github repo, so you have the most up-to-date code to build with.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>I keep all of my cloned git repos inside of one, singular directory:</p>
<p><code class="docutils literal"><span class="pre">~/git</span></code></p>
<p>This way, I don&#8217;t have to hunt all over my system for where my repo&#8217;s are and it makes it easier to keep them updated. Then, I symlink the library to wherever either the developer wants/requires it or where is easiest.</p>
<p class="last">The other way of handing this is to clone your PROGRAMS into the /opt directory - so /opt/couchpotato, /opt/NzbDrone, /opt/plexpy and so on. Then clone your working repos for projects into <code class="docutils literal"><span class="pre">~/git/[repo]</span></code></p>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/wimpunk/ddclient.git ~/git/ddclient
</pre></div>
</div>
<p>Or, like with couchpotato, you are welcome to save the git directory where ever works best for you.</p>
</div>
<div class="section" id="copying-files-and-creating-directories">
<h3>Copying Files and Creating Directories<a class="headerlink" href="#copying-files-and-creating-directories" title="Permalink to this headline">¶</a></h3>
<p>Next, its a matter of sticking the ddclient program into the right place, creating its directories, backing up the existing configs and all that jazz.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/git/ddclient/
sudo cp ddclient /usr/sbin/
sudo mkdir /etc/ddclient/
sudo mkdir /var/cache/ddclient
</pre></div>
</div>
<ol class="arabic simple">
<li>So the first <code class="docutils literal"><span class="pre">cp</span></code> is the actual  program itself, thus why its going inside of <code class="docutils literal"><span class="pre">/usr/sbin/</span></code>.</li>
<li>Then, creating <code class="docutils literal"><span class="pre">/etc/ddclient</span></code> because thats where it expects its config file.</li>
<li>Then, <code class="docutils literal"><span class="pre">/var/cache/ddclient</span></code> in order to save the programs caching files.</li>
</ol>
</div>
<div class="section" id="ddclient-conf-file">
<h3><code class="docutils literal"><span class="pre">ddclient.conf</span></code> file<a class="headerlink" href="#ddclient-conf-file" title="Permalink to this headline">¶</a></h3>
<p>If you already have a <code class="docutils literal"><span class="pre">ddclient.conf</span></code> file made - like  <a class="reference external" href="domains.google.com">domains.google.com</a>, since their support files explain exactly how to make a config file just for their service - copy that over to:</p>
<p><code class="docutils literal"><span class="pre">/etc/ddclient/ddclient.conf</span></code></p>
<p>But, if you don&#8217;t have a starting point yet, if you look in the DDClient repo files, there are several sample files of all creeds and uses. This is a good chance for you to poke around a bit and see what each one is meant for and look through your specific config file, since it will have a billion and one explanations for everything. If, you&#8217;re interested.</p>
<p>Otherwise, most likely the service you have your URL hosted with will have a how-to specific for their service on configuring DDClient.</p>
<p>Then, once you have a good config file you like, save it into a github repo of your own so you have it saved, sourced, and backed up to a cloud server if anything goes awry.</p>
</div>
<div class="section" id="autostart">
<h3>Autostart<a class="headerlink" href="#autostart" title="Permalink to this headline">¶</a></h3>
<p>Since we&#8217;re on Ubuntu, copy the <code class="docutils literal"><span class="pre">init.d</span></code> file over and set it up to <strong>always</strong> autostart:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo cp sample-etc_rc.d_init.d_ddclient.ubuntu /etc/init.d/ddclient
sudo chmod +x /etc/init.d/ddclient
sudo update-rc.d ddclient defaults
</pre></div>
</div>
<p>So, we&#8217;re copying a sample file - specifically the <code class="docutils literal"><span class="pre">init.d_ddclient.ubuntu</span></code> file. Obviously if you wanted to run DDClient in another fashion - like with the cron file or with the specific wrapper <code class="docutils literal"><span class="pre">.sh</span></code> script - you could if you were so inclined.</p>
<p>Then, the <code class="docutils literal"><span class="pre">chmod</span> <span class="pre">+x</span></code> makes the file executable by the sytem, and <code class="docutils literal"><span class="pre">update-rc.d</span></code> adds it to upstart for autostarting.</p>
</div>
<div class="section" id="perl-cpan">
<h3>Perl/CPAN<a class="headerlink" href="#perl-cpan" title="Permalink to this headline">¶</a></h3>
<p>Now, DDClient is dependent on some Perl Libraries to help it run. So, the specific Perl Library Management tool we&#8217;ll be using is CPAN.</p>
<p>And, I believe if I am correct, Perl is a tool that comes with Ubuntu Server, along with CPAN. But, if your system isn&#8217;t allowing the  <code class="docutils literal"><span class="pre">cpan</span></code> command to run, you can do a <code class="docutils literal"><span class="pre">apt-cache</span> <span class="pre">search</span> <span class="pre">cpan</span></code> and it&#8217;ll show the various programs that might include it.</p>
<p>If Perl completely isn&#8217;t installed, then</p>
<p><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">perl</span></code></p>
<p>Then, once thats done, you&#8217;ll want to install the library DDClient requires:</p>
<p><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">cpan</span> <span class="pre">install</span> <span class="pre">Data::Validate::IP</span></code></p>
<p>Since I don&#8217;t know hardly anything about Perl other than I need it, I simply press enter through the various questions CPAN asks, since it will autofill with the defaults.</p>
</div>
<div class="section" id="running-ddclient">
<h3>Running DDClient<a class="headerlink" href="#running-ddclient" title="Permalink to this headline">¶</a></h3>
<p>Once you have all that taken care of, you can run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">ddclient</span></code> and it&#8217;ll run it once, it&#8217;ll talk to the server you have configured, and respond with output. For me, it usually tells me that my IP address is unchanged, and to run DDClient unneccessarily is considered abusive.</p>
<p>Which is why we use Upstart, systemctl or the wrapper script or cron job!</p>
<p>Now, since we added this to Upstart, type <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">ddclient</span> <span class="pre">start</span></code> and that script will take over the management!</p>
<table class="docutils citation" frame="void" id="ddclient-source" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[DDCLIENT-Source]</a></td><td>These directions are liberally copied from <a class="reference external" href="https://github.com/wimpunk/ddclient">Wimpunk/DDClient&#8217;s github</a></td></tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../postfix.html" class="btn btn-neutral float-right" title="Using Postfix as Mail Relay [POSTFIX-HowTo]" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="securing-nginx.html" class="btn btn-neutral" title="Securing NGINX" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 Justin Partain.
      Last updated on November 21, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>